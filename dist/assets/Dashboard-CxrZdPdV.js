import{b as mt,u as Z,a as l,l as ht,j as t,B as f,O as ft}from"./index-DsrysXVe.js";import{r as c}from"./router-2lA1gtRA.js";import{u as A}from"./driverStore-DCKnCsOf.js";import{D as gt}from"./DriverLayout-BEMqHq5y.js";import{D as xt}from"./env-DmGA2CgC.js";import{s as Ft,N as bt,P as S,d as yt,t as wt,m as vt,e as jt}from"./ui-pwCvv38W.js";import"./map-BW_WLVrL.js";const St=()=>{var q,G,H,U,V,J;const{me:r,requests:d,register:D,refreshRequests:y,accept:tt,updateLocation:x,setAvailable:M,refreshApproval:E,earnings:C,fetchEarnings:P,approved:k}=A(),{user:u}=mt(),{confirmPickup:et,appendRoutePoint:I,stopRouteRecordingAndSave:rt,updateBookingStatus:z,saveRouteProgress:_}=Z(),[w,g]=c.useState("none"),[m,N]=c.useState(null),[e,R]=c.useState(null),[at,L]=c.useState(null),F=c.useRef(null),$=(s,n)=>{if(!s||!n)return null;const o=6371e3,a=(n.lat-s.lat)*Math.PI/180,i=(n.lng-s.lng)*Math.PI/180,p=s.lat*Math.PI/180,h=n.lat*Math.PI/180,j=Math.sin(a/2)**2+Math.cos(p)*Math.cos(h)*Math.sin(i/2)**2;return 2*o*Math.asin(Math.sqrt(j))},T=e?$(r==null?void 0:r.location,e.pickupLocation):null,v=e?$(r==null?void 0:r.location,e.dropoffLocation):null;c.useEffect(()=>{r&&y()},[r,y]),c.useEffect(()=>{(async()=>{var n;if(u&&u.role==="driver"&&(!r||r.id!==u.id))try{const o=await fetch(`/api/drivers/${u.id}`),a=await o.json();if(o.ok&&a.success&&a.data){const i=a.data.location,p=(n=A.getState().me)==null?void 0:n.location,h=p&&(p.lat!==0||p.lng!==0)?p:i;A.setState({me:{id:a.data.id,name:a.data.name||"S√ºr√ºc√º",vehicleType:a.data.vehicleType||"sedan",location:h,available:!0}});try{await fetch(`/api/drivers/${a.data.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({available:!0})})}catch{}try{A.getState().startRealtime()}catch{}}else await D({id:u.id,name:u.name||"S√ºr√ºc√º",vehicleType:"sedan",location:{lat:0,lng:0},available:!0})}catch{try{await D({id:u.id,name:u.name||"S√ºr√ºc√º",vehicleType:"sedan",location:{lat:0,lng:0},available:!0})}catch{}}})()},[r,u,D]),c.useEffect(()=>{const s=setInterval(()=>{r&&y()},3e3);return()=>clearInterval(s)},[r,y]);const B=c.useRef(null),K=async()=>{try{const s=await fetch("https://ipapi.co/json/");if(s.ok){const n=await s.json();if(n.latitude&&n.longitude)return{lat:n.latitude,lng:n.longitude}}}catch{}try{const s=await fetch("https://ip-api.com/json/");if(s.ok){const n=await s.json();if(n.lat&&n.lon)return{lat:n.lat,lng:n.lon}}}catch{}return null};c.useEffect(()=>{if(!(r!=null&&r.id))return;let s=null,n=!1;return navigator.geolocation?s=navigator.geolocation.watchPosition(o=>{g("gps");const a=o.coords.latitude,i=o.coords.longitude,p=Date.now();let h=!1;if(!B.current)h=!0;else{const{lat:j,lng:ot,time:it}=B.current,ct=p-it,lt=6371e3,pt=j*Math.PI/180,dt=a*Math.PI/180,W=(a-j)*Math.PI/180,X=(i-ot)*Math.PI/180,Q=Math.sin(W/2)*Math.sin(W/2)+Math.cos(pt)*Math.cos(dt)*Math.sin(X/2)*Math.sin(X/2),ut=2*Math.atan2(Math.sqrt(Q),Math.sqrt(1-Q));(lt*ut>10||ct>1e4)&&(h=!0)}h&&(B.current={lat:a,lng:i,time:p},x({lat:a,lng:i}),I({lat:a,lng:i}))},async o=>{if(console.warn("GPS hatasƒ±:",o.message),!n){n=!0,l.info("GPS kullanƒ±lamƒ±yor, IP bazlƒ± konum aranƒ±yor...");const a=await K();a?(g("ip"),x(a),l.success("Yakla≈üƒ±k konum bulundu!")):(g("none"),l.warning("Konum bulunamadƒ±. Haritada tƒ±klayarak se√ßin."))}},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0}):(async()=>{n=!0,l.info("GPS desteklenmiyor, IP bazlƒ± konum aranƒ±yor...");const o=await K();o?(g("ip"),x(o)):(g("none"),l.warning("Konum bulunamadƒ±. Haritada tƒ±klayarak se√ßin."))})(),()=>{try{s&&navigator.geolocation.clearWatch(s)}catch{}}},[r==null?void 0:r.id,x,I]),c.useEffect(()=>{r&&(E(),P())},[r,E,P]),c.useEffect(()=>{if(!e)return;const s=setInterval(()=>{_(e.id)},5e3);return()=>clearInterval(s)},[e,_]),c.useEffect(()=>{const s=e;if(!(s!=null&&s.id)){if(L(null),F.current){try{F.current.disconnect()}catch{}F.current=null}return}const n=`http://${window.location.hostname}:3005`,o=ht(n,{transports:["websocket"],reconnection:!0});return F.current=o,o.on("connect",()=>{o.emit("booking:join",{bookingId:s.id})}),o.on("customer:update",a=>{(a==null?void 0:a.bookingId)===s.id&&a!=null&&a.location&&typeof a.location.lat=="number"&&typeof a.location.lng=="number"&&L(a.location)}),o.on("booking:update",a=>{(a==null?void 0:a.id)===s.id&&R(i=>i?{...i,...a}:null)}),fetch(`/api/bookings/${s.id}/customer-location`).then(a=>a.json()).then(a=>{a!=null&&a.success&&(a!=null&&a.data)&&typeof a.data.lat=="number"&&typeof a.data.lng=="number"&&L(a.data)}).catch(()=>{}),()=>{try{o.emit("booking:leave",{bookingId:s.id})}catch{}o.disconnect(),F.current=null}},[e==null?void 0:e.id]),c.useEffect(()=>{if(!r)return;const s=async()=>{if(document.visibilityState==="visible")try{const o=await fetch(`/api/bookings/by-driver/${r.id}`),a=await o.json();if(o.ok&&a.success&&Array.isArray(a.data)){const i=a.data.find(p=>["accepted","driver_en_route","driver_arrived","in_progress"].includes(p.status))||null;((i==null?void 0:i.id)!==(e==null?void 0:e.id)||(i==null?void 0:i.status)!==(e==null?void 0:e.status))&&R(i||null)}}catch{}};s();const n=setInterval(s,3e3);return()=>clearInterval(n)},[r==null?void 0:r.id,e==null?void 0:e.id,e==null?void 0:e.status]);const O=c.useRef(null),Y=c.useRef(0);c.useEffect(()=>{O.current=new Audio("https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3")},[]),c.useEffect(()=>{var s;if(d.length>Y.current){l.success("üîî Yeni yolculuk isteƒüi!",{duration:1e4});try{(s=O.current)==null||s.play().catch(()=>{}),navigator.vibrate&&navigator.vibrate([200,100,200])}catch{}}Y.current=d.length,!m&&d.length>0&&N(d[0])},[d,m]);const b=(r==null?void 0:r.location)&&(r.location.lat!==0||r.location.lng!==0),st=async()=>{if(!b){l.error("Konumunuz y√ºklenmeden m√ºsait olamazsƒ±nƒ±z");return}const s=!(r!=null&&r.available);await M(s),l.success(s?"Online oldunuz!":"Molaya ge√ßtiniz")},nt=async s=>{try{await tt(s),l.success("ƒ∞stek kabul edildi! Rotanƒ±z √ßiziliyor...")}catch{l.error("ƒ∞stek kabul edilemedi. Ba≈üka bir s√ºr√ºc√º aldƒ± olabilir.")}};return t.jsx(gt,{children:t.jsxs("div",{"trae-inspector-start-line":"318","trae-inspector-start-column":"6","trae-inspector-end-line":"554","trae-inspector-end-column":"12","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",className:"h-[calc(100vh-56px)] flex flex-col lg:flex-row",children:[t.jsxs("div",{"trae-inspector-start-line":"320","trae-inspector-start-column":"8","trae-inspector-end-line":"527","trae-inspector-end-column":"14","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",className:"w-full lg:w-80 bg-gray-800 border-r border-gray-700 flex flex-col",children:[t.jsxs("div",{"trae-inspector-start-line":"323","trae-inspector-start-column":"10","trae-inspector-end-line":"351","trae-inspector-end-column":"16","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",className:"p-4 border-b border-gray-700",children:[t.jsx("button",{"trae-inspector-start-line":"324","trae-inspector-start-column":"12","trae-inspector-end-line":"344","trae-inspector-end-column":"21","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",onClick:st,disabled:!b,className:`w-full py-4 rounded-xl font-bold text-lg flex items-center justify-center gap-3 transition-all ${r!=null&&r.available?"bg-green-600 hover:bg-green-700 text-white":"bg-yellow-600 hover:bg-yellow-700 text-white"} ${b?"":"opacity-50 cursor-not-allowed"}`,children:r!=null&&r.available?t.jsxs(t.Fragment,{children:[t.jsx("div",{"trae-inspector-start-line":"335","trae-inspector-start-column":"18","trae-inspector-end-line":"335","trae-inspector-end-column":"85","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",className:"w-3 h-3 bg-white rounded-full animate-pulse"}),"ONLINE - √áaƒürƒ± Alƒ±yor"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ft,{className:"h-5 w-5"}),"MOLADA"]})}),t.jsxs("p",{"trae-inspector-start-line":"345","trae-inspector-start-column":"12","trae-inspector-end-line":"350","trae-inspector-end-column":"16","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",className:"text-xs text-gray-500 mt-2 text-center",children:[w==="gps"&&"üìç GPS konum aktif",w==="ip"&&"üåê IP bazlƒ± konum",w==="manual"&&"üëÜ Manuel konum",w==="none"&&"‚è≥ Konum bekleniyor..."]})]}),e&&t.jsxs("div",{"trae-inspector-start-line":"355","trae-inspector-start-column":"12","trae-inspector-end-line":"445","trae-inspector-end-column":"18","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",className:"p-4 bg-blue-900/50 border-b border-blue-700",children:[t.jsxs("h3",{"trae-inspector-start-line":"356","trae-inspector-start-column":"14","trae-inspector-end-line":"359","trae-inspector-end-column":"19","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",className:"text-white font-semibold mb-3 flex items-center gap-2",children:[t.jsx(bt,{className:"h-5 w-5 text-blue-400"}),"Aktif Yolculuk"]}),t.jsxs("div",{"trae-inspector-start-line":"361","trae-inspector-start-column":"14","trae-inspector-end-line":"444","trae-inspector-end-column":"20","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",className:"space-y-2 text-sm",children:[t.jsx("p",{"trae-inspector-start-line":"362","trae-inspector-start-column":"16","trae-inspector-end-line":"362","trae-inspector-end-column":"97","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",className:"text-white font-medium",children:(q=e.pickupLocation)==null?void 0:q.address}),t.jsxs("p",{"trae-inspector-start-line":"363","trae-inspector-start-column":"16","trae-inspector-end-line":"363","trae-inspector-end-column":"91","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",className:"text-gray-300",children:["‚Üí ",(G=e.dropoffLocation)==null?void 0:G.address]}),t.jsxs("div",{"trae-inspector-start-line":"366","trae-inspector-start-column":"16","trae-inspector-end-line":"373","trae-inspector-end-column":"22","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",className:"text-xs text-gray-400 mt-2",children:[typeof T=="number"&&e.status!=="in_progress"&&t.jsxs("span",{"trae-inspector-start-line":"368","trae-inspector-start-column":"20","trae-inspector-end-line":"368","trae-inspector-end-column":"114","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",className:"bg-gray-800 px-2 py-1 rounded",children:["üìç Alƒ±≈ü: ",Math.round(T)," m"]}),typeof v=="number"&&e.status==="in_progress"&&t.jsxs("span",{"trae-inspector-start-line":"371","trae-inspector-start-column":"20","trae-inspector-end-line":"371","trae-inspector-end-column":"116","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",className:"bg-gray-800 px-2 py-1 rounded",children:["üéØ Varƒ±≈ü: ",Math.round(v)," m"]})]}),t.jsxs("div",{"trae-inspector-start-line":"376","trae-inspector-start-column":"16","trae-inspector-end-line":"443","trae-inspector-end-column":"22","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",className:"flex flex-wrap gap-2 mt-3",children:[e.status==="accepted"&&t.jsx(f,{size:"sm",onClick:async()=>{var n,o,a,i;await z(e.id,"driver_en_route");const s=`https://www.google.com/maps/dir/?api=1&origin=${(n=r==null?void 0:r.location)==null?void 0:n.lat},${(o=r==null?void 0:r.location)==null?void 0:o.lng}&destination=${(a=e.pickupLocation)==null?void 0:a.lat},${(i=e.pickupLocation)==null?void 0:i.lng}&travelmode=driving`;window.open(s,"_blank")},className:"bg-green-600 hover:bg-green-700 w-full",children:"üöó Yola √áƒ±k & Navigasyon"}),e.status==="driver_en_route"&&t.jsx(f,{size:"sm",onClick:async()=>{await z(e.id,"driver_arrived"),l.success("M√º≈üteriye vardƒ±nƒ±z!")},className:"bg-blue-600 hover:bg-blue-700 w-full",children:"‚úÖ Geldim"}),e.status==="driver_arrived"&&t.jsx(f,{size:"sm",onClick:async()=>{var n,o,a,i;await et(e.id),l.success("Yolculuk ba≈üladƒ±!");const s=`https://www.google.com/maps/dir/?api=1&origin=${(n=e.pickupLocation)==null?void 0:n.lat},${(o=e.pickupLocation)==null?void 0:o.lng}&destination=${(a=e.dropoffLocation)==null?void 0:a.lat},${(i=e.dropoffLocation)==null?void 0:i.lng}&travelmode=driving`;window.open(s,"_blank")},className:"bg-purple-600 hover:bg-purple-700 w-full",children:"üöÄ M√º≈üteriyi Aldƒ±m"}),e.status==="in_progress"&&t.jsxs(t.Fragment,{children:[t.jsx("a",{"trae-inspector-start-line":"418","trae-inspector-start-column":"22","trae-inspector-end-line":"427","trae-inspector-end-column":"26","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",href:`https://www.google.com/maps/dir/?api=1&origin=${(H=r==null?void 0:r.location)==null?void 0:H.lat},${(U=r==null?void 0:r.location)==null?void 0:U.lng}&destination=${(V=e.dropoffLocation)==null?void 0:V.lat},${(J=e.dropoffLocation)==null?void 0:J.lng}&travelmode=driving`,target:"_blank",rel:"noreferrer",className:"flex-1",children:t.jsx(f,{size:"sm",variant:"outline",className:"text-white border-white w-full",children:"üó∫Ô∏è Navigasyon"})}),t.jsx(f,{size:"sm",disabled:typeof v=="number"&&v>200,onClick:async()=>{try{await rt(e.id)}catch{}await z(e.id,"completed"),await M(!0),l.success("Yolculuk tamamlandƒ±! üéâ")},className:"bg-green-600 hover:bg-green-700 flex-1",children:"‚úÖ Tamamla"})]})]})]})]}),t.jsxs("div",{"trae-inspector-start-line":"449","trae-inspector-start-column":"10","trae-inspector-end-line":"518","trae-inspector-end-column":"16","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",className:"flex-1 overflow-y-auto",children:[t.jsx("div",{"trae-inspector-start-line":"450","trae-inspector-start-column":"12","trae-inspector-end-line":"460","trae-inspector-end-column":"18","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",className:"p-4 border-b border-gray-700",children:t.jsxs("h3",{"trae-inspector-start-line":"451","trae-inspector-start-column":"14","trae-inspector-end-line":"459","trae-inspector-end-column":"19","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",className:"text-white font-semibold flex items-center gap-2",children:[t.jsx(S,{className:"h-5 w-5"}),"Gelen ƒ∞stekler",d.length>0&&t.jsx("span",{"trae-inspector-start-line":"455","trae-inspector-start-column":"18","trae-inspector-end-line":"457","trae-inspector-end-column":"25","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",className:"bg-red-500 text-white text-xs px-2 py-0.5 rounded-full animate-pulse",children:d.length})]})}),t.jsxs("div",{"trae-inspector-start-line":"462","trae-inspector-start-column":"12","trae-inspector-end-line":"517","trae-inspector-end-column":"18","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",className:"divide-y divide-gray-700",children:[k===!0&&d.map(s=>t.jsxs("div",{"trae-inspector-start-line":"464","trae-inspector-start-column":"16","trae-inspector-end-line":"499","trae-inspector-end-column":"22","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",className:`p-4 cursor-pointer transition-all ${(m==null?void 0:m.id)===s.id?"bg-blue-900/50 border-l-4 border-blue-500":"hover:bg-gray-700/50"}`,onClick:()=>N(s),children:[t.jsxs("div",{"trae-inspector-start-line":"469","trae-inspector-start-column":"18","trae-inspector-end-line":"478","trae-inspector-end-column":"24","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",className:"flex items-start gap-3",children:[t.jsx("div",{"trae-inspector-start-line":"470","trae-inspector-start-column":"20","trae-inspector-end-line":"472","trae-inspector-end-column":"26","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",className:"w-10 h-10 rounded-full bg-green-600 flex items-center justify-center flex-shrink-0 animate-pulse",children:t.jsx(S,{className:"h-5 w-5 text-white"})}),t.jsxs("div",{"trae-inspector-start-line":"473","trae-inspector-start-column":"20","trae-inspector-end-line":"477","trae-inspector-end-column":"26","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",className:"flex-1 min-w-0",children:[t.jsx("p",{"trae-inspector-start-line":"474","trae-inspector-start-column":"22","trae-inspector-end-line":"474","trae-inspector-end-column":"91","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",className:"text-white font-medium truncate",children:s.pickup.address}),t.jsxs("p",{"trae-inspector-start-line":"475","trae-inspector-start-column":"22","trae-inspector-end-line":"475","trae-inspector-end-column":"93","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",className:"text-gray-400 text-sm truncate",children:["‚Üí ",s.dropoff.address]}),t.jsxs("p",{"trae-inspector-start-line":"476","trae-inspector-start-column":"22","trae-inspector-end-line":"476","trae-inspector-end-column":"86","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",className:"text-gray-500 text-xs mt-1",children:["üöó ",s.vehicleType]})]})]}),t.jsxs("div",{"trae-inspector-start-line":"481","trae-inspector-start-column":"18","trae-inspector-end-line":"498","trae-inspector-end-column":"24","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",className:"flex gap-2 mt-3",children:[t.jsxs(f,{size:"sm",onClick:n=>{n.stopPropagation(),nt(s.id)},className:"flex-1 bg-green-600 hover:bg-green-700",children:[t.jsx(yt,{className:"h-4 w-4 mr-1"}),"Kabul Et"]}),t.jsx(f,{size:"sm",variant:"outline",onClick:n=>{n.stopPropagation(),N(null)},className:"text-white border-gray-600",children:t.jsx(wt,{className:"h-4 w-4"})})]})]},s.id)),k===!0&&d.length===0&&t.jsxs("div",{"trae-inspector-start-line":"503","trae-inspector-start-column":"16","trae-inspector-end-line":"507","trae-inspector-end-column":"22","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",className:"p-8 text-center text-gray-500",children:[t.jsx(S,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),t.jsx("p",{"trae-inspector-start-line":"505","trae-inspector-start-column":"18","trae-inspector-end-line":"505","trae-inspector-end-column":"43","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Bekleyen%20istek%20yok%22%2C%22textStartLine%22%3A%22505%22%2C%22textStartColumn%22%3A%2221%22%2C%22textEndLine%22%3A%22505%22%2C%22textEndColumn%22%3A%2239%22%2C%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",children:"Bekleyen istek yok"}),t.jsx("p",{"trae-inspector-start-line":"506","trae-inspector-start-column":"18","trae-inspector-end-line":"506","trae-inspector-end-column":"94","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Online%20oldu%C4%9Funuzda%20istekler%20burada%20g%C3%B6r%C3%BCnecek%22%2C%22textStartLine%22%3A%22506%22%2C%22textStartColumn%22%3A%2246%22%2C%22textEndLine%22%3A%22506%22%2C%22textEndColumn%22%3A%2290%22%2C%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",className:"text-sm mt-1",children:"Online olduƒüunuzda istekler burada g√∂r√ºnecek"})]}),k===!1&&t.jsxs("div",{"trae-inspector-start-line":"511","trae-inspector-start-column":"16","trae-inspector-end-line":"515","trae-inspector-end-column":"22","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",className:"p-8 text-center text-yellow-500",children:[t.jsx(vt,{className:"h-12 w-12 mx-auto mb-3"}),t.jsx("p",{"trae-inspector-start-line":"513","trae-inspector-start-column":"18","trae-inspector-end-line":"513","trae-inspector-end-column":"49","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Ba%C5%9Fvurunuz%20onay%20bekliyor%22%2C%22textStartLine%22%3A%22513%22%2C%22textStartColumn%22%3A%2221%22%2C%22textEndLine%22%3A%22513%22%2C%22textEndColumn%22%3A%2245%22%2C%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",children:"Ba≈üvurunuz onay bekliyor"}),t.jsx("p",{"trae-inspector-start-line":"514","trae-inspector-start-column":"18","trae-inspector-end-line":"514","trae-inspector-end-column":"113","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Y%C3%B6netici%20onay%20verdikten%20sonra%20%C3%A7a%C4%9Fr%C4%B1%20alabilirsiniz%22%2C%22textStartLine%22%3A%22514%22%2C%22textStartColumn%22%3A%2260%22%2C%22textEndLine%22%3A%22514%22%2C%22textEndColumn%22%3A%22109%22%2C%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",className:"text-sm mt-1 text-gray-400",children:"Y√∂netici onay verdikten sonra √ßaƒürƒ± alabilirsiniz"})]})]})]}),t.jsx("div",{"trae-inspector-start-line":"521","trae-inspector-start-column":"10","trae-inspector-end-line":"526","trae-inspector-end-column":"16","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",className:"p-4 border-t border-gray-700 bg-gray-800",children:t.jsxs("div",{"trae-inspector-start-line":"522","trae-inspector-start-column":"12","trae-inspector-end-line":"525","trae-inspector-end-column":"18","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",className:"flex items-center justify-between",children:[t.jsx("span",{"trae-inspector-start-line":"523","trae-inspector-start-column":"14","trae-inspector-end-line":"523","trae-inspector-end-column":"67","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Bug%C3%BCn%3A%22%2C%22textStartLine%22%3A%22523%22%2C%22textStartColumn%22%3A%2254%22%2C%22textEndLine%22%3A%22523%22%2C%22textEndColumn%22%3A%2260%22%2C%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",className:"text-gray-400 text-sm",children:"Bug√ºn:"}),t.jsxs("span",{"trae-inspector-start-line":"524","trae-inspector-start-column":"14","trae-inspector-end-line":"524","trae-inspector-end-column":"96","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",className:"text-2xl font-bold text-green-400",children:["‚Ç∫",(C==null?void 0:C.daily)||0]})]})})]}),t.jsxs("div",{"trae-inspector-start-line":"530","trae-inspector-start-column":"8","trae-inspector-end-line":"553","trae-inspector-end-column":"14","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",className:"flex-1 relative",children:[t.jsx(ft,{center:b?r.location:xt,customerLocation:at||(e==null?void 0:e.pickupLocation),destination:e?e.status==="in_progress"?e.dropoffLocation:e.pickupLocation:m?m.pickup:void 0,drivers:b?[{id:r.id,name:r.name,location:r.location,rating:0,available:r.available}]:[],highlightDriverId:r==null?void 0:r.id,onMapClick:s=>{g("manual"),x(s),l.success("Konum g√ºncellendi!")},path:e?Z.getState().routePoints||[]:[],pickupLocation:e==null?void 0:e.pickupLocation,dropoffLocation:e==null?void 0:e.dropoffLocation,showRoute:e?e.status==="in_progress"?"to_dropoff":"to_pickup":void 0}),t.jsxs("div",{"trae-inspector-start-line":"549","trae-inspector-start-column":"10","trae-inspector-end-line":"552","trae-inspector-end-column":"16","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",className:"absolute bottom-4 left-4 right-4 lg:left-4 lg:right-auto lg:w-80 bg-gray-900/90 text-white text-sm px-4 py-3 rounded-lg flex items-center gap-2",children:[t.jsx(jt,{className:"h-4 w-4 text-green-400"}),t.jsx("span",{"trae-inspector-start-line":"551","trae-inspector-start-column":"12","trae-inspector-end-line":"551","trae-inspector-end-column":"62","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Konumunuz%20m%C3%BC%C5%9Fterilere%20g%C3%B6r%C3%BCn%C3%BCr%20durumda%22%2C%22textStartLine%22%3A%22551%22%2C%22textStartColumn%22%3A%2218%22%2C%22textEndLine%22%3A%22551%22%2C%22textEndColumn%22%3A%2255%22%2C%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%2Fgettransfer%22%7D",children:"Konumunuz m√º≈üterilere g√∂r√ºn√ºr durumda"})]})]})]})})};export{St as DriverDashboard,St as default};
