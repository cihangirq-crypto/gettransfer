import{b as gt,u as rt,a as l,l as ft,j as t,B as x,O as bt}from"./index-CNoEBc0e.js";import{d as yt,r as c}from"./router-2lA1gtRA.js";import{u as A}from"./driverStore-C_KGwvil.js";import{D as Ft}from"./DriverLayout-y30XmRTd.js";import{D as wt}from"./env-DmGA2CgC.js";import{s as vt,N as jt,P as M,d as At,t as Dt,m as Ct,S as kt,a as zt,F as Nt,U as Lt,e as Bt}from"./ui-pwCvv38W.js";import"./map-BW_WLVrL.js";const Tt=()=>{var U,V,J,W,X,Q;const{me:r,requests:d,register:D,refreshRequests:F,accept:at,updateLocation:f,setAvailable:P,refreshApproval:I,earnings:C,fetchEarnings:_,approved:k}=A(),{user:u}=gt(),{confirmPickup:st,appendRoutePoint:R,stopRouteRecordingAndSave:nt,updateBookingStatus:z,saveRouteProgress:$}=rt(),T=yt(),[N,L]=c.useState(!1),[w,g]=c.useState("none"),[m,B]=c.useState(null),[e,K]=c.useState(null),[ot,S]=c.useState(null),b=c.useRef(null),O=(s,n)=>{if(!s||!n)return null;const o=6371e3,a=(n.lat-s.lat)*Math.PI/180,i=(n.lng-s.lng)*Math.PI/180,p=s.lat*Math.PI/180,h=n.lat*Math.PI/180,j=Math.sin(a/2)**2+Math.cos(p)*Math.cos(h)*Math.sin(i/2)**2;return 2*o*Math.asin(Math.sqrt(j))},Y=e?O(r==null?void 0:r.location,e.pickupLocation):null,v=e?O(r==null?void 0:r.location,e.dropoffLocation):null;c.useEffect(()=>{r&&F()},[r,F]),c.useEffect(()=>{(async()=>{var n;if(u&&u.role==="driver"&&(!r||r.id!==u.id))try{const o=await fetch(`/api/drivers/${u.id}`),a=await o.json();if(o.ok&&a.success&&a.data){const i=a.data.location,p=(n=A.getState().me)==null?void 0:n.location,h=p&&(p.lat!==0||p.lng!==0)?p:i;A.setState({me:{id:a.data.id,name:a.data.name||"S√ºr√ºc√º",vehicleType:a.data.vehicleType||"sedan",location:h,available:!0}});try{await fetch(`/api/drivers/${a.data.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({available:!0})})}catch{}try{A.getState().startRealtime()}catch{}}else await D({id:u.id,name:u.name||"S√ºr√ºc√º",vehicleType:"sedan",location:{lat:0,lng:0},available:!0})}catch{try{await D({id:u.id,name:u.name||"S√ºr√ºc√º",vehicleType:"sedan",location:{lat:0,lng:0},available:!0})}catch{}}})()},[r,u,D]),c.useEffect(()=>{const s=setInterval(()=>{r&&F()},3e3);return()=>clearInterval(s)},[r,F]);const E=c.useRef(null),q=async()=>{try{const s=await fetch("https://ipapi.co/json/");if(s.ok){const n=await s.json();if(n.latitude&&n.longitude)return{lat:n.latitude,lng:n.longitude}}}catch{}try{const s=await fetch("https://ip-api.com/json/");if(s.ok){const n=await s.json();if(n.lat&&n.lon)return{lat:n.lat,lng:n.lon}}}catch{}return null};c.useEffect(()=>{if(!(r!=null&&r.id))return;let s=null,n=!1;return navigator.geolocation?s=navigator.geolocation.watchPosition(o=>{g("gps");const a=o.coords.latitude,i=o.coords.longitude,p=Date.now();let h=!1;if(!E.current)h=!0;else{const{lat:j,lng:lt,time:pt}=E.current,dt=p-pt,ut=6371e3,mt=j*Math.PI/180,ht=a*Math.PI/180,Z=(a-j)*Math.PI/180,tt=(i-lt)*Math.PI/180,et=Math.sin(Z/2)*Math.sin(Z/2)+Math.cos(mt)*Math.cos(ht)*Math.sin(tt/2)*Math.sin(tt/2),xt=2*Math.atan2(Math.sqrt(et),Math.sqrt(1-et));(ut*xt>10||dt>1e4)&&(h=!0)}h&&(E.current={lat:a,lng:i,time:p},f({lat:a,lng:i}),R({lat:a,lng:i}))},async o=>{if(console.warn("GPS hatasƒ±:",o.message),!n){n=!0,l.info("GPS kullanƒ±lamƒ±yor, IP bazlƒ± konum aranƒ±yor...");const a=await q();a?(g("ip"),f(a),l.success("Yakla≈üƒ±k konum bulundu!")):(g("none"),l.warning("Konum bulunamadƒ±. Haritada tƒ±klayarak se√ßin."))}},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0}):(async()=>{n=!0,l.info("GPS desteklenmiyor, IP bazlƒ± konum aranƒ±yor...");const o=await q();o?(g("ip"),f(o)):(g("none"),l.warning("Konum bulunamadƒ±. Haritada tƒ±klayarak se√ßin."))})(),()=>{try{s&&navigator.geolocation.clearWatch(s)}catch{}}},[r==null?void 0:r.id,f,R]),c.useEffect(()=>{r&&(I(),_())},[r,I,_]),c.useEffect(()=>{if(!e)return;const s=setInterval(()=>{$(e.id)},5e3);return()=>clearInterval(s)},[e,$]),c.useEffect(()=>{const s=e;if(!(s!=null&&s.id)){if(S(null),b.current){try{b.current.disconnect()}catch{}b.current=null}return}const n=`http://${window.location.hostname}:3005`,o=ft(n,{transports:["websocket"],reconnection:!0});return b.current=o,o.on("connect",()=>{o.emit("booking:join",{bookingId:s.id})}),o.on("customer:update",a=>{(a==null?void 0:a.bookingId)===s.id&&a!=null&&a.location&&typeof a.location.lat=="number"&&typeof a.location.lng=="number"&&S(a.location)}),o.on("booking:update",a=>{(a==null?void 0:a.id)===s.id&&K(i=>i?{...i,...a}:null)}),fetch(`/api/bookings/${s.id}/customer-location`).then(a=>a.json()).then(a=>{a!=null&&a.success&&(a!=null&&a.data)&&typeof a.data.lat=="number"&&typeof a.data.lng=="number"&&S(a.data)}).catch(()=>{}),()=>{try{o.emit("booking:leave",{bookingId:s.id})}catch{}o.disconnect(),b.current=null}},[e==null?void 0:e.id]),c.useEffect(()=>{if(!r)return;const s=async()=>{if(document.visibilityState==="visible")try{const o=await fetch(`/api/bookings/by-driver/${r.id}`),a=await o.json();if(o.ok&&a.success&&Array.isArray(a.data)){const i=a.data.find(p=>["accepted","driver_en_route","driver_arrived","in_progress"].includes(p.status))||null;((i==null?void 0:i.id)!==(e==null?void 0:e.id)||(i==null?void 0:i.status)!==(e==null?void 0:e.status))&&K(i||null)}}catch{}};s();const n=setInterval(s,3e3);return()=>clearInterval(n)},[r==null?void 0:r.id,e==null?void 0:e.id,e==null?void 0:e.status]);const G=c.useRef(null),H=c.useRef(0);c.useEffect(()=>{G.current=new Audio("https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3")},[]),c.useEffect(()=>{var s;if(d.length>H.current){l.success("üîî Yeni yolculuk isteƒüi!",{duration:1e4});try{(s=G.current)==null||s.play().catch(()=>{}),navigator.vibrate&&navigator.vibrate([200,100,200])}catch{}}H.current=d.length,!m&&d.length>0&&B(d[0])},[d,m]);const y=(r==null?void 0:r.location)&&(r.location.lat!==0||r.location.lng!==0),it=async()=>{if(!y){l.error("Konumunuz y√ºklenmeden m√ºsait olamazsƒ±nƒ±z");return}const s=!(r!=null&&r.available);await P(s),l.success(s?"Online oldunuz!":"Molaya ge√ßtiniz")},ct=async s=>{try{await at(s),l.success("ƒ∞stek kabul edildi! Rotanƒ±z √ßiziliyor...")}catch{l.error("ƒ∞stek kabul edilemedi. Ba≈üka bir s√ºr√ºc√º aldƒ± olabilir.")}};return t.jsx(Ft,{children:t.jsxs("div",{"trae-inspector-start-line":"321","trae-inspector-start-column":"6","trae-inspector-end-line":"590","trae-inspector-end-column":"12","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",className:"h-[calc(100vh-56px)] flex flex-col lg:flex-row",children:[t.jsxs("div",{"trae-inspector-start-line":"323","trae-inspector-start-column":"8","trae-inspector-end-line":"563","trae-inspector-end-column":"14","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",className:"w-full lg:w-80 bg-gray-800 border-r border-gray-700 flex flex-col",children:[t.jsxs("div",{"trae-inspector-start-line":"326","trae-inspector-start-column":"10","trae-inspector-end-line":"354","trae-inspector-end-column":"16","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",className:"p-4 border-b border-gray-700",children:[t.jsx("button",{"trae-inspector-start-line":"327","trae-inspector-start-column":"12","trae-inspector-end-line":"347","trae-inspector-end-column":"21","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",onClick:it,disabled:!y,className:`w-full py-4 rounded-xl font-bold text-lg flex items-center justify-center gap-3 transition-all ${r!=null&&r.available?"bg-green-600 hover:bg-green-700 text-white":"bg-yellow-600 hover:bg-yellow-700 text-white"} ${y?"":"opacity-50 cursor-not-allowed"}`,children:r!=null&&r.available?t.jsxs(t.Fragment,{children:[t.jsx("div",{"trae-inspector-start-line":"338","trae-inspector-start-column":"18","trae-inspector-end-line":"338","trae-inspector-end-column":"85","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",className:"w-3 h-3 bg-white rounded-full animate-pulse"}),"ONLINE - √áaƒürƒ± Alƒ±yor"]}):t.jsxs(t.Fragment,{children:[t.jsx(vt,{className:"h-5 w-5"}),"MOLADA"]})}),t.jsxs("p",{"trae-inspector-start-line":"348","trae-inspector-start-column":"12","trae-inspector-end-line":"353","trae-inspector-end-column":"16","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",className:"text-xs text-gray-500 mt-2 text-center",children:[w==="gps"&&"üìç GPS konum aktif",w==="ip"&&"üåê IP bazlƒ± konum",w==="manual"&&"üëÜ Manuel konum",w==="none"&&"‚è≥ Konum bekleniyor..."]})]}),e&&t.jsxs("div",{"trae-inspector-start-line":"358","trae-inspector-start-column":"12","trae-inspector-end-line":"448","trae-inspector-end-column":"18","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",className:"p-4 bg-blue-900/50 border-b border-blue-700",children:[t.jsxs("h3",{"trae-inspector-start-line":"359","trae-inspector-start-column":"14","trae-inspector-end-line":"362","trae-inspector-end-column":"19","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",className:"text-white font-semibold mb-3 flex items-center gap-2",children:[t.jsx(jt,{className:"h-5 w-5 text-blue-400"}),"Aktif Yolculuk"]}),t.jsxs("div",{"trae-inspector-start-line":"364","trae-inspector-start-column":"14","trae-inspector-end-line":"447","trae-inspector-end-column":"20","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",className:"space-y-2 text-sm",children:[t.jsx("p",{"trae-inspector-start-line":"365","trae-inspector-start-column":"16","trae-inspector-end-line":"365","trae-inspector-end-column":"97","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",className:"text-white font-medium",children:(U=e.pickupLocation)==null?void 0:U.address}),t.jsxs("p",{"trae-inspector-start-line":"366","trae-inspector-start-column":"16","trae-inspector-end-line":"366","trae-inspector-end-column":"91","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",className:"text-gray-300",children:["‚Üí ",(V=e.dropoffLocation)==null?void 0:V.address]}),t.jsxs("div",{"trae-inspector-start-line":"369","trae-inspector-start-column":"16","trae-inspector-end-line":"376","trae-inspector-end-column":"22","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",className:"text-xs text-gray-400 mt-2",children:[typeof Y=="number"&&e.status!=="in_progress"&&t.jsxs("span",{"trae-inspector-start-line":"371","trae-inspector-start-column":"20","trae-inspector-end-line":"371","trae-inspector-end-column":"114","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",className:"bg-gray-800 px-2 py-1 rounded",children:["üìç Alƒ±≈ü: ",Math.round(Y)," m"]}),typeof v=="number"&&e.status==="in_progress"&&t.jsxs("span",{"trae-inspector-start-line":"374","trae-inspector-start-column":"20","trae-inspector-end-line":"374","trae-inspector-end-column":"116","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",className:"bg-gray-800 px-2 py-1 rounded",children:["üéØ Varƒ±≈ü: ",Math.round(v)," m"]})]}),t.jsxs("div",{"trae-inspector-start-line":"379","trae-inspector-start-column":"16","trae-inspector-end-line":"446","trae-inspector-end-column":"22","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",className:"flex flex-wrap gap-2 mt-3",children:[e.status==="accepted"&&t.jsx(x,{size:"sm",onClick:async()=>{var n,o,a,i;await z(e.id,"driver_en_route");const s=`https://www.google.com/maps/dir/?api=1&origin=${(n=r==null?void 0:r.location)==null?void 0:n.lat},${(o=r==null?void 0:r.location)==null?void 0:o.lng}&destination=${(a=e.pickupLocation)==null?void 0:a.lat},${(i=e.pickupLocation)==null?void 0:i.lng}&travelmode=driving`;window.open(s,"_blank")},className:"bg-green-600 hover:bg-green-700 w-full",children:"üöó Yola √áƒ±k & Navigasyon"}),e.status==="driver_en_route"&&t.jsx(x,{size:"sm",onClick:async()=>{await z(e.id,"driver_arrived"),l.success("M√º≈üteriye vardƒ±nƒ±z!")},className:"bg-blue-600 hover:bg-blue-700 w-full",children:"‚úÖ Geldim"}),e.status==="driver_arrived"&&t.jsx(x,{size:"sm",onClick:async()=>{var n,o,a,i;await st(e.id),l.success("Yolculuk ba≈üladƒ±!");const s=`https://www.google.com/maps/dir/?api=1&origin=${(n=e.pickupLocation)==null?void 0:n.lat},${(o=e.pickupLocation)==null?void 0:o.lng}&destination=${(a=e.dropoffLocation)==null?void 0:a.lat},${(i=e.dropoffLocation)==null?void 0:i.lng}&travelmode=driving`;window.open(s,"_blank")},className:"bg-purple-600 hover:bg-purple-700 w-full",children:"üöÄ M√º≈üteriyi Aldƒ±m"}),e.status==="in_progress"&&t.jsxs(t.Fragment,{children:[t.jsx("a",{"trae-inspector-start-line":"421","trae-inspector-start-column":"22","trae-inspector-end-line":"430","trae-inspector-end-column":"26","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",href:`https://www.google.com/maps/dir/?api=1&origin=${(J=r==null?void 0:r.location)==null?void 0:J.lat},${(W=r==null?void 0:r.location)==null?void 0:W.lng}&destination=${(X=e.dropoffLocation)==null?void 0:X.lat},${(Q=e.dropoffLocation)==null?void 0:Q.lng}&travelmode=driving`,target:"_blank",rel:"noreferrer",className:"flex-1",children:t.jsx(x,{size:"sm",variant:"outline",className:"text-white border-white w-full",children:"üó∫Ô∏è Navigasyon"})}),t.jsx(x,{size:"sm",disabled:typeof v=="number"&&v>200,onClick:async()=>{try{await nt(e.id)}catch{}await z(e.id,"completed"),await P(!0),l.success("Yolculuk tamamlandƒ±! üéâ")},className:"bg-green-600 hover:bg-green-700 flex-1",children:"‚úÖ Tamamla"})]})]})]})]}),t.jsxs("div",{"trae-inspector-start-line":"452","trae-inspector-start-column":"10","trae-inspector-end-line":"521","trae-inspector-end-column":"16","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",className:"flex-1 overflow-y-auto",children:[t.jsx("div",{"trae-inspector-start-line":"453","trae-inspector-start-column":"12","trae-inspector-end-line":"463","trae-inspector-end-column":"18","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",className:"p-4 border-b border-gray-700",children:t.jsxs("h3",{"trae-inspector-start-line":"454","trae-inspector-start-column":"14","trae-inspector-end-line":"462","trae-inspector-end-column":"19","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",className:"text-white font-semibold flex items-center gap-2",children:[t.jsx(M,{className:"h-5 w-5"}),"Gelen ƒ∞stekler",d.length>0&&t.jsx("span",{"trae-inspector-start-line":"458","trae-inspector-start-column":"18","trae-inspector-end-line":"460","trae-inspector-end-column":"25","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",className:"bg-red-500 text-white text-xs px-2 py-0.5 rounded-full animate-pulse",children:d.length})]})}),t.jsxs("div",{"trae-inspector-start-line":"465","trae-inspector-start-column":"12","trae-inspector-end-line":"520","trae-inspector-end-column":"18","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",className:"divide-y divide-gray-700",children:[k===!0&&d.map(s=>t.jsxs("div",{"trae-inspector-start-line":"467","trae-inspector-start-column":"16","trae-inspector-end-line":"502","trae-inspector-end-column":"22","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",className:`p-4 cursor-pointer transition-all ${(m==null?void 0:m.id)===s.id?"bg-blue-900/50 border-l-4 border-blue-500":"hover:bg-gray-700/50"}`,onClick:()=>B(s),children:[t.jsxs("div",{"trae-inspector-start-line":"472","trae-inspector-start-column":"18","trae-inspector-end-line":"481","trae-inspector-end-column":"24","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",className:"flex items-start gap-3",children:[t.jsx("div",{"trae-inspector-start-line":"473","trae-inspector-start-column":"20","trae-inspector-end-line":"475","trae-inspector-end-column":"26","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",className:"w-10 h-10 rounded-full bg-green-600 flex items-center justify-center flex-shrink-0 animate-pulse",children:t.jsx(M,{className:"h-5 w-5 text-white"})}),t.jsxs("div",{"trae-inspector-start-line":"476","trae-inspector-start-column":"20","trae-inspector-end-line":"480","trae-inspector-end-column":"26","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",className:"flex-1 min-w-0",children:[t.jsx("p",{"trae-inspector-start-line":"477","trae-inspector-start-column":"22","trae-inspector-end-line":"477","trae-inspector-end-column":"91","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",className:"text-white font-medium truncate",children:s.pickup.address}),t.jsxs("p",{"trae-inspector-start-line":"478","trae-inspector-start-column":"22","trae-inspector-end-line":"478","trae-inspector-end-column":"93","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",className:"text-gray-400 text-sm truncate",children:["‚Üí ",s.dropoff.address]}),t.jsxs("p",{"trae-inspector-start-line":"479","trae-inspector-start-column":"22","trae-inspector-end-line":"479","trae-inspector-end-column":"86","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",className:"text-gray-500 text-xs mt-1",children:["üöó ",s.vehicleType]})]})]}),t.jsxs("div",{"trae-inspector-start-line":"484","trae-inspector-start-column":"18","trae-inspector-end-line":"501","trae-inspector-end-column":"24","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",className:"flex gap-2 mt-3",children:[t.jsxs(x,{size:"sm",onClick:n=>{n.stopPropagation(),ct(s.id)},className:"flex-1 bg-green-600 hover:bg-green-700",children:[t.jsx(At,{className:"h-4 w-4 mr-1"}),"Kabul Et"]}),t.jsx(x,{size:"sm",variant:"outline",onClick:n=>{n.stopPropagation(),B(null)},className:"text-white border-gray-600",children:t.jsx(Dt,{className:"h-4 w-4"})})]})]},s.id)),k===!0&&d.length===0&&t.jsxs("div",{"trae-inspector-start-line":"506","trae-inspector-start-column":"16","trae-inspector-end-line":"510","trae-inspector-end-column":"22","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",className:"p-8 text-center text-gray-500",children:[t.jsx(M,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),t.jsx("p",{"trae-inspector-start-line":"508","trae-inspector-start-column":"18","trae-inspector-end-line":"508","trae-inspector-end-column":"43","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Bekleyen%20istek%20yok%22%2C%22textStartLine%22%3A%22508%22%2C%22textStartColumn%22%3A%2221%22%2C%22textEndLine%22%3A%22508%22%2C%22textEndColumn%22%3A%2239%22%2C%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",children:"Bekleyen istek yok"}),t.jsx("p",{"trae-inspector-start-line":"509","trae-inspector-start-column":"18","trae-inspector-end-line":"509","trae-inspector-end-column":"94","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Online%20oldu%C4%9Funuzda%20istekler%20burada%20g%C3%B6r%C3%BCnecek%22%2C%22textStartLine%22%3A%22509%22%2C%22textStartColumn%22%3A%2246%22%2C%22textEndLine%22%3A%22509%22%2C%22textEndColumn%22%3A%2290%22%2C%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",className:"text-sm mt-1",children:"Online olduƒüunuzda istekler burada g√∂r√ºnecek"})]}),k===!1&&t.jsxs("div",{"trae-inspector-start-line":"514","trae-inspector-start-column":"16","trae-inspector-end-line":"518","trae-inspector-end-column":"22","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",className:"p-8 text-center text-yellow-500",children:[t.jsx(Ct,{className:"h-12 w-12 mx-auto mb-3"}),t.jsx("p",{"trae-inspector-start-line":"516","trae-inspector-start-column":"18","trae-inspector-end-line":"516","trae-inspector-end-column":"49","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Ba%C5%9Fvurunuz%20onay%20bekliyor%22%2C%22textStartLine%22%3A%22516%22%2C%22textStartColumn%22%3A%2221%22%2C%22textEndLine%22%3A%22516%22%2C%22textEndColumn%22%3A%2245%22%2C%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",children:"Ba≈üvurunuz onay bekliyor"}),t.jsx("p",{"trae-inspector-start-line":"517","trae-inspector-start-column":"18","trae-inspector-end-line":"517","trae-inspector-end-column":"113","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Y%C3%B6netici%20onay%20verdikten%20sonra%20%C3%A7a%C4%9Fr%C4%B1%20alabilirsiniz%22%2C%22textStartLine%22%3A%22517%22%2C%22textStartColumn%22%3A%2260%22%2C%22textEndLine%22%3A%22517%22%2C%22textEndColumn%22%3A%22109%22%2C%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",className:"text-sm mt-1 text-gray-400",children:"Y√∂netici onay verdikten sonra √ßaƒürƒ± alabilirsiniz"})]})]})]}),t.jsxs("div",{"trae-inspector-start-line":"524","trae-inspector-start-column":"10","trae-inspector-end-line":"562","trae-inspector-end-column":"16","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",className:"p-4 border-t border-gray-700 bg-gray-800",children:[t.jsxs("div",{"trae-inspector-start-line":"525","trae-inspector-start-column":"12","trae-inspector-end-line":"528","trae-inspector-end-column":"18","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",className:"flex items-center justify-between mb-3",children:[t.jsx("span",{"trae-inspector-start-line":"526","trae-inspector-start-column":"14","trae-inspector-end-line":"526","trae-inspector-end-column":"67","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Bug%C3%BCn%3A%22%2C%22textStartLine%22%3A%22526%22%2C%22textStartColumn%22%3A%2254%22%2C%22textEndLine%22%3A%22526%22%2C%22textEndColumn%22%3A%2260%22%2C%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",className:"text-gray-400 text-sm",children:"Bug√ºn:"}),t.jsxs("span",{"trae-inspector-start-line":"527","trae-inspector-start-column":"14","trae-inspector-end-line":"527","trae-inspector-end-column":"96","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",className:"text-2xl font-bold text-green-400",children:["‚Ç∫",(C==null?void 0:C.daily)||0]})]}),t.jsxs("div",{"trae-inspector-start-line":"531","trae-inspector-start-column":"12","trae-inspector-end-line":"561","trae-inspector-end-column":"18","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",className:"relative",children:[t.jsxs("button",{"trae-inspector-start-line":"532","trae-inspector-start-column":"14","trae-inspector-end-line":"541","trae-inspector-end-column":"23","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",onClick:()=>L(!N),className:"w-full flex items-center justify-between px-4 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg text-gray-300 transition-colors",children:[t.jsxs("div",{"trae-inspector-start-line":"536","trae-inspector-start-column":"16","trae-inspector-end-line":"539","trae-inspector-end-column":"22","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",className:"flex items-center gap-2",children:[t.jsx(kt,{className:"h-4 w-4"}),t.jsx("span",{"trae-inspector-start-line":"538","trae-inspector-start-column":"18","trae-inspector-end-line":"538","trae-inspector-end-column":"38","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Ayarlar%22%2C%22textStartLine%22%3A%22538%22%2C%22textStartColumn%22%3A%2224%22%2C%22textEndLine%22%3A%22538%22%2C%22textEndColumn%22%3A%2231%22%2C%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",children:"Ayarlar"})]}),t.jsx(zt,{className:`h-4 w-4 transition-transform ${N?"rotate-90":""}`})]}),N&&t.jsxs("div",{"trae-inspector-start-line":"544","trae-inspector-start-column":"16","trae-inspector-end-line":"559","trae-inspector-end-column":"22","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",className:"absolute bottom-full left-0 right-0 mb-2 bg-gray-700 rounded-lg border border-gray-600 shadow-xl overflow-hidden z-10",children:[t.jsxs("button",{"trae-inspector-start-line":"545","trae-inspector-start-column":"18","trae-inspector-end-line":"551","trae-inspector-end-column":"27","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",onClick:()=>{T("/driver/documents"),L(!1)},className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-600 text-gray-300 transition-colors",children:[t.jsx(Nt,{className:"h-4 w-4 text-blue-400"}),t.jsx("span",{"trae-inspector-start-line":"550","trae-inspector-start-column":"20","trae-inspector-end-line":"550","trae-inspector-end-column":"43","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Belgelerim%22%2C%22textStartLine%22%3A%22550%22%2C%22textStartColumn%22%3A%2226%22%2C%22textEndLine%22%3A%22550%22%2C%22textEndColumn%22%3A%2236%22%2C%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",children:"Belgelerim"})]}),t.jsxs("button",{"trae-inspector-start-line":"552","trae-inspector-start-column":"18","trae-inspector-end-line":"558","trae-inspector-end-column":"27","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",onClick:()=>{T("/driver/profile"),L(!1)},className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-600 text-gray-300 transition-colors",children:[t.jsx(Lt,{className:"h-4 w-4 text-green-400"}),t.jsx("span",{"trae-inspector-start-line":"557","trae-inspector-start-column":"20","trae-inspector-end-line":"557","trae-inspector-end-column":"41","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Profilim%22%2C%22textStartLine%22%3A%22557%22%2C%22textStartColumn%22%3A%2226%22%2C%22textEndLine%22%3A%22557%22%2C%22textEndColumn%22%3A%2234%22%2C%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",children:"Profilim"})]})]})]})]})]}),t.jsxs("div",{"trae-inspector-start-line":"566","trae-inspector-start-column":"8","trae-inspector-end-line":"589","trae-inspector-end-column":"14","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",className:"flex-1 relative",children:[t.jsx(bt,{center:y?r.location:wt,customerLocation:ot||(e==null?void 0:e.pickupLocation),destination:e?e.status==="in_progress"?e.dropoffLocation:e.pickupLocation:m?m.pickup:void 0,drivers:y?[{id:r.id,name:r.name,location:r.location,rating:0,available:r.available}]:[],highlightDriverId:r==null?void 0:r.id,onMapClick:s=>{g("manual"),f(s),l.success("Konum g√ºncellendi!")},path:e?rt.getState().routePoints||[]:[],pickupLocation:e==null?void 0:e.pickupLocation,dropoffLocation:e==null?void 0:e.dropoffLocation,showRoute:e?e.status==="in_progress"?"to_dropoff":"to_pickup":void 0}),t.jsxs("div",{"trae-inspector-start-line":"585","trae-inspector-start-column":"10","trae-inspector-end-line":"588","trae-inspector-end-column":"16","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",className:"absolute bottom-4 left-4 right-4 lg:left-4 lg:right-auto lg:w-80 bg-gray-900/90 text-white text-sm px-4 py-3 rounded-lg flex items-center gap-2",children:[t.jsx(Bt,{className:"h-4 w-4 text-green-400"}),t.jsx("span",{"trae-inspector-start-line":"587","trae-inspector-start-column":"12","trae-inspector-end-line":"587","trae-inspector-end-column":"62","trae-inspector-file-path":"src/pages/driver/Dashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Konumunuz%20m%C3%BC%C5%9Fterilere%20g%C3%B6r%C3%BCn%C3%BCr%20durumda%22%2C%22textStartLine%22%3A%22587%22%2C%22textStartColumn%22%3A%2218%22%2C%22textEndLine%22%3A%22587%22%2C%22textEndColumn%22%3A%2255%22%2C%22cwd%22%3A%22%2Fhome%2Fz%2Fmy-project%22%7D",children:"Konumunuz m√º≈üterilere g√∂r√ºn√ºr durumda"})]})]})]})})};export{Tt as DriverDashboard,Tt as default};
